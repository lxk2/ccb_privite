<template>
  <div>
    <nut-backtop
      :distance="200"
      :bottom="80"
    >
    </nut-backtop>
    <van-search
      v-model="keyword"
      placeholder="请输入您要搜索的医生名字/症状"
      show-action
      shape="round"
      @search="onSearch"
      @cancel="onCancel"
    >
    </van-search>

    <div class="eq" v-if="!isSearch">
      <div class="container">
        <div class="block">
          <div class="title">
            热门搜索
          </div>
          <van-icon name="delete" style="font-size: 20px!important" />
        </div>
        <div class="search-grid">
          <van-grid :column-num="4" :clickable="true" :gutter="15" :border="false">
            <van-grid-item
              v-for="value in 6"
              :key="value"
              text="文字"
              @click="handlerClickGrid(value)"
            />
          </van-grid>
        </div>
      </div>
      <div class="container">
        <div class="block">
          <div class="title">
            历史搜索
          </div>
          <van-icon name="delete" style="font-size: 20px!important" />
        </div>
        <div class="search-grid">
          <van-grid :column-num="4" :clickable="true" :gutter="15" :border="false">
            <van-grid-item
              v-for="value in 6"
              :key="value"
              text="文字"
              @click="handlerClickGrid(value)"
            />
          </van-grid>
        </div>
      </div>
    </div>
    <div class="emptySearch" v-if="isSearch && list">
      <div class="kefu">
        <a href="tel: 13336452276" class="x-icon">
          <svg t="1573729906634" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2974" width="200" height="200"><path d="M819.334009 501.402816a73.560258 73.560258 0 0 1-42.179047-11.303985 305.954754 305.954754 0 0 0 5.51943-89.033942 318.41565 318.41565 0 0 0-7.49582-68.089033 0.482046 0.482046 0 0 1 0.168717-0.144613h-0.216921a306.822437 306.822437 0 0 0-301.278906-248.591251 302.098384 302.098384 0 0 0-172.524352 47.168226 15.280866 15.280866 0 0 0-10.388097-1.34973 20.414659 20.414659 0 0 1-20.414658-22.19823 22.270537 22.270537 0 0 1 9.640925-18.149041l-0.361535-0.482046a363.366462 363.366462 0 0 1 558.113147 227.212499 89.178556 89.178556 0 0 1 52.518939 88.262668c-0.024102 50.205117-33.45401 96.698477-71.101822 96.698478z m-342.252837-353.797844a227.260704 227.260704 0 1 1-227.236601 227.260704 227.236602 227.236602 0 0 1 227.188397-227.260704zM450.954266 551.487421a171.415646 171.415646 0 0 0 174.597151-176.621745 165.317761 165.317761 0 0 0-171.126418-172.59666c-100.410234 0-159.075262 72.306937-159.075262 172.59666s55.146091 176.621746 155.556324 176.621745zM239.890316 185.325091A317.210534 317.210534 0 0 0 171.367441 323.045704h-1.446138c0.433842 0.265125 0.747172 0.747172 1.181013 1.036399a315.18594 315.18594 0 0 0 5.856862 157.195282 56.18249 56.18249 0 0 1-36.466799 14.340876C102.844567 495.618261 72.306937 454.909455 72.306937 404.704338a88.600101 88.600101 0 0 1 54.109692-88.91343 362.257756 362.257756 0 0 1 78.959175-160.111662 22.366946 22.366946 0 0 1 17.498279-8.773241 22.728481 22.728481 0 0 1 22.728481 22.72848 22.487458 22.487458 0 0 1-6.14609 15.304969zM178.2366 615.238037c1.325627-2.000492 34.70733-21.041319 34.70733-21.041318a317.885399 317.885399 0 0 0 531.600603 0s35.02066 28.030989 34.876046 28.657649c94.191837 83.273489 157.195282 176.404825 157.195282 312.004435 0 0-686.168733 1.783571-464.572072 1.783571a22.656174 22.656174 0 0 1-0.723069-45.312348v-1.132808l382.672414-0.216921c-11.25578-102.868669-29.669947-134.032959-102.77226-199.591249-66.618792 75.87408-170.885395 95.348748-279.803745 95.348748s-202.290708-70.66798-268.933602-146.54206a379.659625 379.659625 0 0 0-127.019187 251.001482h56.712741v1.132808c-29.332514 0.964092 23.45155-8.869651 23.45155 22.583867a22.728481 22.728481 0 0 1-22.72848 22.728481c41.962126 0-105.327105-1.783571-105.327106-1.783571-0.048205-135.59961 56.423513-236.323173 150.615351-319.620766z m44.854404 276.091989v-1.132808h157.315793v1.132808c0.265125 0 0.457944-0.144614 0.72307-0.144614a22.728481 22.728481 0 1 1 0 45.456962H223.814073a22.656174 22.656174 0 0 1-0.771274-45.312348z" fill="#48BCF5" p-id="2975"></path><path d="M842.833763 496.437739a59.4122 59.4122 0 0 1-37.575505-14.461387 334.202664 334.202664 0 0 0 6.194295-168.499266l0.168716-0.144614h-0.216921a336.998532 336.998532 0 0 0-515.62077-208.822435 17.570586 17.570586 0 0 1-14.099853 4.699951 24.102312 24.102312 0 0 1-24.102312-24.102313 23.740778 23.740778 0 0 1 10.31579-19.28185l-0.361535-0.506148a385.371873 385.371873 0 0 1 591.904589 241.023124 94.625679 94.625679 0 0 1 55.700444 93.613382c0 53.242008-32.369406 96.481557-72.306938 96.481556zM476.74374 127.334927a241.023124 241.023124 0 1 1-241.023124 241.023124 241.023124 241.023124 0 0 1 241.023124-241.023124z m0 433.841624a192.818499 192.818499 0 1 0-192.8185-192.8185 192.818499 192.818499 0 0 0 192.8185 192.8185zM225.187905 167.344765A336.420077 336.420077 0 0 0 152.495331 313.404779h-1.542548c0.457944 0.289228 0.819479 0.795376 1.277422 1.108706a333.913436 333.913436 0 0 0 6.194295 166.715695 59.460405 59.460405 0 0 1-38.5637 15.208559c-39.937532 0-72.306937-43.167242-72.306938-96.409249 0-46.421054 24.608461-85.129368 57.363504-94.312349a384.50419 384.50419 0 0 1 83.755536-169.800791 23.692573 23.692573 0 0 1 18.55878-9.303493 23.933596 23.933596 0 0 1 17.594688 40.323169z m-61.942943 434.034443c0.602558-0.891786 7.447615-6.604034 15.039843-12.798328 0 0.168716 0.265125 0.31333 0.409739 0.482046a30.778653 30.778653 0 0 1 16.003936-6.001476 38.828825 38.828825 0 0 1 21.065421 8.917856 335.576496 335.576496 0 0 0 532.92623-0.723069l0.674865 0.265125a24.897689 24.897689 0 0 1 34.803739-3.85637 0.144614 0.144614 0 0 1 0.192819 0c2.91638 1.229218 16.534186 14.461387 16.485981 13.738318A480.407291 480.407291 0 0 1 964.092497 962.287234s-365.439261 0.93999-494.627655 1.494344a23.861289 23.861289 0 0 1 1.156911-47.674374v-1.181014h442.687172A432.781122 432.781122 0 0 0 771.273998 639.581373a383.226768 383.226768 0 0 1-578.455499 0 432.781122 432.781122 0 0 0-142.059029 275.344817h60.255781V915.96259c-9.640925-1.446139-15.160355 0.747172 0 0.241023V915.96259a25.307428 25.307428 0 0 1 24.873586 24.102312 24.102312 24.102312 0 0 1-22.680276 23.813085c-24.945893-0.530251-113.136255-1.590753-113.136254-1.590753a480.407291 480.407291 0 0 1 163.172655-360.908026z m306.099368 362.40237c0.674865 0 1.229218 0.385637 1.904083 0.385636-68.281851 0-54.832761-0.168716-1.783571-0.385636zM111.714218 964.167214c0.506149 0 0.915888-0.265125 1.422037-0.289227 8.267093 0.289228 9.616823 0.289228-1.422037 0.289227z m95.637976-48.06001v-1.181014h166.860309v1.181014c0.265125 0 0.482046-0.144614 0.747172-0.144614a24.102312 24.102312 0 0 1 0 48.204624H208.123468a24.102312 24.102312 0 0 1-0.843581-48.06001z" fill="#4076FE" p-id="2976"></path></svg>
        </a>
        <div class="tips">
          没有符合条件的内容，可点击上面图标联系电话客服
        </div>
      </div>
      <van-divider :style="{ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' }">
        分割线
      </van-divider>
      <div class="top-title">
        系统推荐
      </div>
      <van-list
          style="background: rgb(247, 247, 247);"
          v-model="loading"
          :finished="finished"
          finished-text="没有更多了"
          @load="onLoad"
          :immediate-check="false"
        >
        <div class="doctorList">
          <div class="doctorItem" v-for="(item, key) in list" :key="key">
            <div class="left">
              <div class="avatar">
                <van-image
                  width="100%"
                  height="100%"
                  fit="cover"
                  src="https://img.yzcdn.cn/vant/cat.jpeg"
                  round
                  lazy-load
                />
              </div>
              <div class="star">
                <van-rate :value="3.76" readonly allow-half :size="14.5" />
              </div>
            </div>
            <div class="right">
              <div class="name-block">
                <span class="name">
                  张三
                </span>
                <span class="subject">
                  医学抗衰美容科
                </span>
              </div>
              <div class="hospital">
                浙江大学医学院
              </div>
              <div class="tags">
                <van-tag color="#ffe1e1" text-color="#ad0000">快速恢复</van-tag>
                <van-tag color="#ffe1e1" text-color="#ad0000">从业8年</van-tag>
                <van-tag color="#ffe1e1" text-color="#ad0000">从业8年</van-tag>
                <van-tag color="#ffe1e1" text-color="#ad0000">从业8年</van-tag>
                <van-tag color="#ffe1e1" text-color="#ad0000">从业8年</van-tag>
              </div>
              <div class="goodAt">
                擅长：隆胸、植发、疤痕、痣
              </div>
              <div class="x-price">
                <nut-price
                  style="color: rgb(203, 25,38);"
                  :price="10010.01"
                  :needSymbol="true"
                  :thousands="false"
                />
                <span class="advisory-num">
                  咨询量{{ $utils.fmtNumber2k(5431) }}
                </span>
                <span class="collection-num">
                  关注量{{ $utils.fmtNumber2k(340) }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </van-list>

    </div>
  </div>
</template>

<script>
import { mapState } from 'vuex'
import data from './data'
import methods from './methods'

export default {
  name: 'home-search',
  data,
  methods,
  created () {

  },
  mounted () {
    this.keyword = this.searchKeyword
  },
  computed: {
    ...mapState([
      'searchKeyword'
    ])
  }
}
</script>

<style lang="scss" scoped>
  @import '~@/style/home/search.scss';
  @import '~@/style/doctorList.scss';
</style>
